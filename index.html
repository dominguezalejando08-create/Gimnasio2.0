function agregarEjercicioDefault(){
  const dia = diaRutina.value;
  const r = JSON.parse(localStorage.getItem('rutinas')) || {};
  r[dia] = r[dia] || [];

  const nombre = nombreEj.value.trim();
  const ser = series.value.trim();

  if(!nombre || !ser){ alert('Completa nombre y series'); return; }

  const file = imgFile.files[0];

  const agregarRutina = (imgData) => {
    r[dia].push({nombre, series:ser, img:imgData || '', done:false});
    localStorage.setItem('rutinas', JSON.stringify(r));
    // Limpiar inputs
    nombreEj.value = '';
    series.value = '';
    imgFile.value = '';
    renderRutinas();
    renderSemana();
    buildCalendar();
  };

  if(file){
    const fr = new FileReader();
    fr.onload = ()=>agregarRutina(fr.result);
    fr.readAsDataURL(file);
  } else {
    agregarRutina('');
  }
}
btnAgregar.onclick = agregarEjercicioDefault;
